<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
      integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">


      <div style="padding: 10px;">

        <div style="background-color: #ffffff !important; border: 1px solid #e4e2e2; border-collapse: separate !important; border-radius: 10px; border-spacing: 0; color: #242128 !important; margin: 0; padding: 40px;
    
        width: 99%">

<div style="font-weight: normal; line-height: 2; font-size: 14px;"><span
        style="color: #8A2BE2FF !important; font-weight: 700;"> {{ data['title'] }} - Aggregated Report </span>


</div>
<table class="table table-striped table-bordered" style="margin-top:20px!important">
    <tbody>
    {% for key, val in data['collected_errors'].items() %}
    <div>
        <tr style="display: flex;">
            <td scope="row" colspan="4"
                style="padding-left: 30px; width: 100%; text-transform: capitalize; background: #4518716b !important; color: #fff !important; font-weight: 800;">
                {{key}}
            </td>
        </tr>
        <tr style="display: grid;">
            <td colspan="4">
                <table class="table mb-0">
                    <thead>
                    <tr>
                        <th scope="col">Word</th>
                        {% if data['col_name'] %}
                        <th scope="col">Assignment</th>
                        {% else %}
                        <th scope="col">Student</th>
                        {% endif %}
                        <th scope="col">Examples</th>
                        <th scope="col">Count</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for key1, val1 in val.items() %}
                        <tr>
                            <td scope="row"> {{key1}}</td>
                            <td></td>
                            <td></td>
                            <td style="color: green;"> {{val1["count"]}}</td>
                        </tr>
                        {% for words in val1["all"] %}
                            <tr>
                                <td scope="row"></td>
                                <td> {{ words['name'] }} </td>
                                <td> {{ words['word'] }} =&gt; {{ words['replacedWord'] }}</td>
                                <td> {{words['count']}}</td>
                            </tr>
                        {% endfor %}
                    {% endfor %}
                    </tbody>
                </table>
            </td>
        </tr>
    </div>
    {% endfor %}
    </tbody>
</table>
</div>
</div>